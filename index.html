<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="./assets/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>AI Icon Generator</title>
    
    <!-- PWA & Mobile Meta Tags -->
    <link rel="manifest" href="./manifest.json" />
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="AI Icons" />
    
    <!-- Icons & Splash -->
    <link rel="apple-touch-icon" href="./assets/favicon.png" />
    <link rel="apple-touch-startup-image" href="./assets/splash.png" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['General Sans', 'ui-sans-serif', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
            },
            boxShadow: {
              'soft': '0 2px 10px rgba(0, 0, 0, 0.03)',
              'soft-lg': '0 10px 30px rgba(0, 0, 0, 0.04)',
              'glow': '0 0 20px var(--color-accent-glow)',
            }
          }
        }
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/localforage/dist/localforage.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.26.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "buffer": "https://aistudiocdn.com/buffer@^6.0.3",
    "express": "https://aistudiocdn.com/express@^5.1.0",
    "sharp": "https://aistudiocdn.com/sharp@^0.34.4",
    "dotenv": "https://aistudiocdn.com/dotenv@^17.2.3",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.2.0"
  }
}
</script>
<link rel="stylesheet" href="https://api.fontshare.com/v2/css?f[]=general-sans@400,500,600,700&display=swap" />
<style>
  :root {
    --font-sans: 'General Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    
    /* iOS/Modern Design Tokens - Light */
    --color-bg-light: #F2F2F7; /* System Gray 6 */
    --color-surface-light: #FFFFFF;
    --color-surface-secondary-light: #FFFFFF;
    --color-border-light: #E5E5EA; /* System Gray 5 */
    --color-text-light: #000000;
    --color-text-dim-light: #8E8E93; /* System Gray */
    
    /* Refined Accent: A sophisticated Electric Indigo/Blue */
    --color-accent-light: #0071e3; /* Apple-ish Blue */
    --color-accent-glow-light: rgba(0, 113, 227, 0.15);
    --color-accent-dark-light: #005bb5;
    
    --color-surface-blur-light: rgba(255, 255, 255, 0.8);
    
    /* Global Shadows & Radius */
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
    --shadow-lg: 0 12px 32px rgba(0,0,0,0.12);
    --radius-md: 12px;
    --radius-lg: 20px;
  }

  /* Mapping */
  body {
    font-family: var(--font-sans);
    background-color: var(--color-bg-light);
    color: var(--color-text-light);
    --color-bg: var(--color-bg-light);
    --color-surface: var(--color-surface-light);
    --color-surface-secondary: var(--color-surface-secondary-light);
    --color-border: var(--color-border-light);
    --color-text: var(--color-text-light);
    --color-text-dim: var(--color-text-dim-light);
    --color-accent: var(--color-accent-light);
    --color-accent-glow: var(--color-accent-glow-light);
    --color-accent-dark: var(--color-accent-dark-light);
    --color-surface-blur: var(--color-surface-blur-light);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Utilities */
  .glass-panel {
    background: var(--color-surface-blur);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--color-border);
  }
  
  .card-hover {
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  }
  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }

  /* Custom Animations */
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }

  @keyframes scaleIn { from { opacity: 0; transform: scale(0.96); } to { opacity: 1; transform: scale(1); } }
  .animate-scale-in { animation: scaleIn 0.3s cubic-bezier(0.2, 0.9, 0.3, 1) forwards; }
  
  @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .animate-slide-up { animation: slideUp 0.4s cubic-bezier(0.2, 0.9, 0.3, 1) forwards; }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
  .shimmer-overlay::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
    transform: translateX(-100%);
    animation: shimmer 1.5s infinite;
  }
  
  /* Scrollbar refinement */
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--color-text-dim); }
</style>
</head>
  <body class="transition-colors duration-300 selection:bg-blue-500/20 selection:text-blue-600">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      window.addEventListener("load", () => {
        setTimeout(() => {
          const splash = document.getElementById("splash");
          if (splash) {
            splash.style.opacity = "0";
            setTimeout(() => splash.remove(), 500);
          }
        }, 400);
      });
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js').catch(() => {});
        });
      }
    </script>
  </body>
</html>